{% extends "wheeltunes_app/base.html" %}
{% block body_block %}

    <div class="container">
        <div id="mockers">
        <form action="#" method="POST">
            {% csrf_token %}
            <div class="row">

                <h1>Mocked sensor input:</h1>

                <div class="col">
                    <label for="customRange2" class="form-label">Speed (0-40mph)</label>
                    <input type="range" class="form-range" id="speed_input" min="0" max="40" name="speed" value="{%if sensor_data%}{{sensor_data.speed}}{%else%}0{%endif%}" oninput="speed_output.value = speed_input.value">
                    <output for="customRange2" id="speed_output" class="form-label">{%if sensor_data%}{{sensor_data.speed}}{%else%}0{%endif%}</output>
                </div>

                <div class="col">
                    <label for="customRange2" class="form-label">Heart Rate (40-150bpm)</label>
                    <input type="range" class="form-range" min="40" max="150" name="heart-rate" id="HR_input" oninput="HR_output.value = HR_input.value" value="{%if sensor_data%}{{sensor_data.heart_rate}}{%else%}0{%endif%}">
                    <output for="customRange2" id="HR_output" class="form-label">{%if sensor_data%}{{sensor_data.heart_rate}}{%else%}40{%endif%}</output>
                </div>

                <div class="col">
                    <label for="customRange2" class="form-label">Background Noise (0-80db)</label>
                    <input type="range" class="form-range" min="0" max="80" name="background-noise" id="BN_input" oninput="BN_output.value = BN_input.value" value="{%if sensor_data%}{{sensor_data.background_noise}}{%else%}0{%endif%}">
                    <output for="customRange2" id="BN_output" class="form-label">{%if sensor_data%}{{sensor_data.background_noise}}{%else%}0{%endif%}</output>
                </div>
            </div>
        </form>
        </div>

        <div id="watch-screen">
            <a onclick="togglePlayPause('play')" href="#" id="playButton"><i class="bi bi-play-circle"></i></a>
            <a onclick="togglePlayPause('pause')" href="#" id="pauseButton" style="display: none;"><i class="bi bi-pause-circle"></i></a>
            <a href="#" id="skipButton"><i class="bi bi-skip-end-fill"></i></a>
        </div>


        <div id="playlist">
        {% for song in playable_songs %}
            <audio class="audio" id="audio_{{ song.id }}" src="{{ song.static_url }}" onplay="setNowPlaying('{{ song.title }} by {{ song.artist }}')" onended="playNextSong()"></audio>
        {% endfor %}
        </div>
    </div>

    <style>
        #mockers{
            padding-top: 20px;
        }

        #changes{
            position: absolute;
            margin-top:500px;
        }

        .row{
            background-color: grey;
            border-radius: 15px;
        }

        #playButton, #pauseButton, #skipButton {
            font-size: 65px;
            text-decoration: none;
            color: white;
        }

    </style>

{% endblock %}